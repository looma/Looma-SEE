@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground;
    background: transparent !important;
    color: hsl(222.2 84% 4.9%) !important;
    /* Explicit dark text color */
  }

  /* Force text colors to be readable */
  .text-foreground {
    color: hsl(222.2 84% 4.9%) !important;
    /* Dark text */
  }

  .text-muted-foreground {
    color: hsl(215.4 16.3% 46.9%) !important;
    /* Muted text */
  }

  /* Ensure input fields have proper colors */
  input,
  textarea {
    color: hsl(222.2 84% 4.9%) !important;
    /* Dark text in inputs */
    background-color: hsl(0 0% 100%) !important;
    /* White background */
    border: 1px solid hsl(214.3 31.8% 91.4%) !important;
    /* Light gray border */
  }

  /* Fix specific input field classes */
  .border-input {
    border-color: hsl(214.3 31.8% 91.4%) !important;
  }

  .bg-background {
    background-color: hsl(0 0% 100%) !important;
  }

  .text-foreground {
    color: hsl(222.2 84% 4.9%) !important;
  }

  .text-muted-foreground {
    color: hsl(215.4 16.3% 46.9%) !important;
  }

  .ring-offset-background {
    --tw-ring-offset-color: hsl(0 0% 100%) !important;
  }

  .ring-ring {
    --tw-ring-color: hsl(222.2 84% 4.9%) !important;
  }

  /* Fix focus states for input fields */
  input:focus,
  textarea:focus {
    outline: none !important;
    border-color: hsl(222.2 84% 4.9%) !important;
    box-shadow: 0 0 0 2px hsl(222.2 84% 4.9% / 0.2) !important;
  }

  /* Fix disabled states */
  input:disabled,
  textarea:disabled {
    opacity: 0.5 !important;
    cursor: not-allowed !important;
  }

  /* Fix file input styling */
  input[type="file"] {
    border: 0 !important;
    background: transparent !important;
  }

  input[type="file"]::file-selector-button {
    border: 0 !important;
    background: transparent !important;
    font-size: 0.875rem !important;
    font-weight: 500 !important;
    color: hsl(222.2 84% 4.9%) !important;
  }

  /* Ensure cards have proper colors */
  .bg-white {
    background-color: hsl(0 0% 100%) !important;
  }

  .bg-white\/90 {
    background-color: rgba(255, 255, 255, 0.9) !important;
  }

  .bg-white\/95 {
    background-color: rgba(255, 255, 255, 0.95) !important;
  }

  /* Ensure all text elements are readable */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: hsl(222.2 84% 4.9%) !important;
  }

  p,
  span,
  div {
    color: hsl(222.2 84% 4.9%) !important;
  }

  /* Ensure buttons have proper text colors */
  button {
    color: inherit !important;
  }

  /* Ensure labels are readable */
  label {
    color: hsl(222.2 84% 4.9%) !important;
  }

  /* Ensure placeholders are visible */
  input::placeholder,
  textarea::placeholder {
    color: hsl(215.4 16.3% 46.9%) !important;
  }

  /* Ensure fonts are properly loaded */
  body {
    font-family: 'Geist', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    font-weight: 400 !important;
    line-height: 1.5 !important;
  }
}

/* Override Tailwind input classes with explicit values */
.flex.h-10.w-full.rounded-md.border.border-input.bg-background.px-3.py-2.text-base.ring-offset-background {
  color: hsl(222.2 84% 4.9%) !important;
  background-color: hsl(0 0% 100%) !important;
  border-color: hsl(214.3 31.8% 91.4%) !important;
}

.flex.min-h-\[80px\].w-full.rounded-md.border.border-input.bg-background.px-3.py-2.text-base.ring-offset-background {
  color: hsl(222.2 84% 4.9%) !important;
  background-color: hsl(0 0% 100%) !important;
  border-color: hsl(214.3 31.8% 91.4%) !important;
}

/* Fix placeholder colors specifically */
.placeholder\:text-muted-foreground::placeholder {
  color: hsl(215.4 16.3% 46.9%) !important;
}

/* Fix card backgrounds and gradients */
.bg-white\/90 {
  background-color: rgba(255, 255, 255, 0.9) !important;
}

.bg-white\/95 {
  background-color: rgba(255, 255, 255, 0.95) !important;
}

.backdrop-blur-sm {
  backdrop-filter: blur(4px) !important;
}

/* Fix gradient backgrounds */
.bg-gradient-to-r {
  background-image: linear-gradient(to right, var(--tw-gradient-stops)) !important;
}

.from-yellow-500 {
  --tw-gradient-from: #eab308 !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-amber-500 {
  --tw-gradient-to: #f59e0b !important;
}

/* Fix subject-specific gradients */
/* Science - Green gradients (darker for better contrast) */
.from-emerald-500 {
  --tw-gradient-from: #059669 !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-teal-600 {
  --tw-gradient-to: #0f766e !important;
  /* Darker teal */
}

/* English - Purple gradients (darker for better contrast) */
.from-purple-500 {
  --tw-gradient-from: #7c3aed !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-violet-600 {
  --tw-gradient-to: #5b21b6 !important;
  /* Even darker violet */
}

/* Mathematics - Blue gradients (darker for better contrast) */
.from-blue-500 {
  --tw-gradient-from: #2563eb !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-indigo-600 {
  --tw-gradient-to: #3730a3 !important;
  /* Darker indigo */
}

/* Mathematics - Cyan to Blue gradients */
.from-cyan-500 {
  --tw-gradient-from: #06b6d4 !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

/* Nepali - Orange gradients (darker for better contrast) */
.from-orange-500 {
  --tw-gradient-from: #ea580c !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-red-600 {
  --tw-gradient-to: #b91c1c !important;
  /* Darker red */
}

/* Nepali Question Headers - Red gradients */
.from-red-500 {
  --tw-gradient-from: #ef4444 !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

/* Social - Amber gradients (darker for better contrast) */
.from-amber-500 {
  --tw-gradient-from: #d97706 !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-yellow-600 {
  --tw-gradient-to: #a16207 !important;
  /* Darker yellow */
}

/* Default - Slate gradients */
.from-slate-500 {
  --tw-gradient-from: #64748b !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-gray-600 {
  --tw-gradient-to: #4b5563 !important;
}

/* Fix English question type gradients */
/* Reading Comprehension - Blue gradients */
.from-blue-500 {
  --tw-gradient-from: #2563eb !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-blue-600 {
  --tw-gradient-to: #1d4ed8 !important;
  /* Darker blue */
}

/* Free Writing - Green gradients */
.from-green-500 {
  --tw-gradient-from: #059669 !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-green-600 {
  --tw-gradient-to: #047857 !important;
  /* Darker green */
}

/* Grammar - Purple gradients (already defined above, but ensuring consistency) */
.to-purple-600 {
  --tw-gradient-to: #7c3aed !important;
  /* Darker purple */
}

/* Cloze Test - Orange gradients (already defined above, but ensuring consistency) */
.to-orange-600 {
  --tw-gradient-to: #ea580c !important;
  /* Darker orange */
}

/* Additional missing gradient classes */
/* Indigo gradients */
.from-indigo-500 {
  --tw-gradient-from: #6366f1 !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-indigo-500 {
  --tw-gradient-to: #6366f1 !important;
}

.to-indigo-700 {
  --tw-gradient-to: #4338ca !important;
}

/* Blue 600 from */
.from-blue-600 {
  --tw-gradient-from: #2563eb !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.from-blue-700 {
  --tw-gradient-from: #1d4ed8 !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

/* Yellow 600/700 from */
.from-yellow-600 {
  --tw-gradient-from: #ca8a04 !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.from-yellow-700 {
  --tw-gradient-from: #a16207 !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-amber-600 {
  --tw-gradient-to: #d97706 !important;
}

.to-amber-700 {
  --tw-gradient-to: #b45309 !important;
}

/* Light backgrounds for subtle gradients */
.from-blue-50 {
  --tw-gradient-from: #eff6ff !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-indigo-50 {
  --tw-gradient-to: #eef2ff !important;
}

.from-amber-50 {
  --tw-gradient-from: #fffbeb !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-yellow-50 {
  --tw-gradient-to: #fefce8 !important;
}

/* Slate gradients */
.from-slate-300 {
  --tw-gradient-from: #cbd5e1 !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.to-slate-600 {
  --tw-gradient-to: #475569 !important;
}

/* Orange to red error state gradients */
.to-orange-500 {
  --tw-gradient-to: #f97316 !important;
}

/* Fix yellow text colors */
.text-yellow-100 {
  color: #fef3c7 !important;
}

.text-yellow-200 {
  color: #fde68a !important;
}

/* Fix card styling */
.rounded-lg {
  border-radius: 0.5rem !important;
}

.shadow-2xl {
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
}

.shadow-lg {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
}

.border-white\/20 {
  border-color: rgba(255, 255, 255, 0.2) !important;
}

/* Fix card component base styling */
.rounded-lg.border.bg-card.text-card-foreground.shadow-sm {
  background-color: hsl(0 0% 100%) !important;
  color: hsl(222.2 84% 4.9%) !important;
  border-color: hsl(214.3 31.8% 91.4%) !important;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
}

/* Fix card header styling */
.flex.flex-col.space-y-1\.5.p-6 {
  padding: 1.5rem !important;
}

/* Fix card content styling */
.p-6.pt-0 {
  padding: 1.5rem !important;
  padding-top: 0 !important;
}

/* Ensure z-index works */
.relative.z-10 {
  position: relative !important;
  z-index: 10 !important;
}

/* Fix card hover effects */
.group:hover .group-hover\:translate-x-1 {
  transform: translateX(0.25rem) !important;
}

.group:hover .group-hover\:shadow-xl {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
}

.group:hover .group-hover\:scale-\[1\.02\] {
  transform: scale(1.02) !important;
}

/* Fix transition effects */
.transition-all {
  transition-property: all !important;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;
  transition-duration: 150ms !important;
}

.transition-transform {
  transition-property: transform !important;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;
  transition-duration: 150ms !important;
}

.duration-300 {
  transition-duration: 300ms !important;
}

/* Fix overflow and positioning */
.overflow-hidden {
  overflow: hidden !important;
}

.absolute {
  position: absolute !important;
}

.top-0 {
  top: 0 !important;
}

.right-0 {
  right: 0 !important;
}

/* Fix opacity */
.opacity-10 {
  opacity: 0.1 !important;
}

.opacity-75 {
  opacity: 0.75 !important;
}

.opacity-90 {
  opacity: 0.9 !important;
}

/* Fix text contrast on gradient backgrounds */
/* Ensure all text on gradient backgrounds is white and readable */
.bg-gradient-to-r.text-white {
  color: white !important;
}

.bg-gradient-to-r.text-white h1,
.bg-gradient-to-r.text-white h2,
.bg-gradient-to-r.text-white h3,
.bg-gradient-to-r.text-white h4,
.bg-gradient-to-r.text-white h5,
.bg-gradient-to-r.text-white h6 {
  color: white !important;
}

.bg-gradient-to-r.text-white p,
.bg-gradient-to-r.text-white span,
.bg-gradient-to-r.text-white div {
  color: white !important;
}

/* Fix specific text opacity classes on gradients */
.text-white\/90 {
  color: rgba(255, 255, 255, 0.9) !important;
}

.text-white\/80 {
  color: rgba(255, 255, 255, 0.8) !important;
}

.text-white\/75 {
  color: rgba(255, 255, 255, 0.75) !important;
}

/* Fix badge styling on gradients */
.bg-white\/20 {
  background-color: rgba(255, 255, 255, 0.2) !important;
}

.bg-white\/30 {
  background-color: rgba(255, 255, 255, 0.3) !important;
}

.border-white\/30 {
  border-color: rgba(255, 255, 255, 0.3) !important;
}

/* Ensure card titles are white on gradients */
.bg-gradient-to-r .text-lg,
.bg-gradient-to-r .text-xl,
.bg-gradient-to-r .text-2xl {
  color: white !important;
  font-weight: bold !important;
}

/* Fix button styling on gradients */
.bg-white\/20.text-white {
  background-color: rgba(255, 255, 255, 0.2) !important;
  color: white !important;
}

/* Ensure elements with solid blue background have white text */
.bg-blue-600,
.bg-blue-600 *,
.bg-blue-600 h1,
.bg-blue-600 h2,
.bg-blue-600 h3,
.bg-blue-600 h4,
.bg-blue-600 h5,
.bg-blue-600 h6,
.bg-blue-600 p,
.bg-blue-600 span,
.bg-blue-600 div {
  color: white !important;
}

.bg-white\/20.text-white:hover {
  background-color: rgba(255, 255, 255, 0.3) !important;
}

/* Force yellow gradients to work */
.bg-gradient-to-br {
  background-image: linear-gradient(to bottom right, var(--tw-gradient-stops)) !important;
}

.from-yellow-50 {
  --tw-gradient-from: #fefce8 !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.via-orange-50 {
  --tw-gradient-to: rgb(255 247 237 / 0) !important;
  --tw-gradient-stops: var(--tw-gradient-from), #fff7ed, var(--tw-gradient-to) !important;
}

.to-amber-50 {
  --tw-gradient-to: #fffbeb !important;
}

/* Animations and extras */
@keyframes blob {
  0% {
    transform: translate(0px, 0px) scale(1);
  }

  33% {
    transform: translate(30px, -50px) scale(1.1);
  }

  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }

  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

.animate-blob {
  animation: blob 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

html {
  scroll-behavior: smooth;
}

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f5f9;
}

::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* Version indicator - ensure white text */
.version-indicator-wrapper,
.version-indicator,
.version-indicator * {
  color: #ffffff !important;
}

/* Admin page - override dark text for dark theme */
.admin-page,
.admin-page * {
  color: inherit;
}

.admin-page h1,
.admin-page h2,
.admin-page h3,
.admin-page h4,
.admin-page h5,
.admin-page h6,
.admin-page p,
.admin-page span,
.admin-page div,
.admin-page td,
.admin-page th,
.admin-page label {
  color: inherit !important;
}

/* Grade badge - ensure dark text on white background even inside gradients */
/* High specificity to override .bg-gradient-to-r div { color: white !important } */
.grade-badge,
.grade-badge *,
div.grade-badge,
.bg-gradient-to-r .grade-badge,
.bg-gradient-to-r div.grade-badge,
.bg-gradient-to-r.text-white .grade-badge,
.bg-gradient-to-r.text-white div.grade-badge {
  color: #1e293b !important;
  background-color: white !important;
}

/* CRITICAL: Allow text-white to override forced dark text on badges */
/* This fixes the grade badge being unreadable on dark backgrounds */
div.text-white,
span.text-white,
.text-white {
  color: white !important;
}